{"version":3,"sources":["app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["var mainApp = angular.module('mainApp', ['ngRoute', 'ngCookies']);\r\n\r\nmainApp.config(['$routeProvider', '$locationProvider',\r\n    function($routeProvider, $locationProvider) {\r\n\r\n        $routeProvider.when('/', {\r\n            templateUrl: 'templates/users/login.html',\r\n            controller: 'userController'\r\n        });\r\n\r\n        $routeProvider.when('/dashboard', {\r\n            templateUrl: 'templates/users/dashboard.html',\r\n            controller: 'userController',\r\n            authenticated: true\r\n        });\r\n\r\n        $routeProvider.when('/logout', {\r\n    \t\ttemplateUrl: 'templates/users/logout.html',\r\n            controller: 'userController',\r\n            authenticated: true\r\n        });\r\n\r\n        $routeProvider.when('/gallery/view', {\r\n            templateUrl: 'templates/gallery/gallery-view.html',\r\n            controller: 'userController',\r\n            authenticated: true\r\n        });\r\n\r\n        $routeProvider.when('/gallery/add', {\r\n            templateUrl: 'templates/gallery/gallery-add.html',\r\n            controller: 'userController',\r\n            authenticated: true\r\n        });\r\n\r\n        $routeProvider.otherwise('/');\r\n    }\r\n]);\r\n//using $cookies\r\nmainApp.run(['$rootScope', '$location', 'userModel', function($rootScope, $location, userModel){\r\n\r\n    //if route is change trigger this code!!!\r\n    $rootScope.$on('$routeChangeStart', function(event, next, current){\r\n\r\n        //if route have element authenticated: true\r\n        if(next.$$route.authenticated){\r\n            //if user don't have $cookies, return to login page\r\n            if(!userModel.getAuthStatus()){\r\n                $location.path('/');\r\n            }\r\n        }\r\n\r\n        //originalPath is build in;\r\n        //if user is logged in, and want to go to login page, redirect to the current page\r\n        if(next.$$route.originalPath == '/'){\r\n            if(userModel.getAuthStatus()){\r\n                $location.path(current.$$route.originalPath);\r\n            }\r\n        }\r\n\r\n    });\r\n}]);\r\n\r\n"],"sourceRoot":"/source/"}